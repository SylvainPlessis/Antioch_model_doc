Let's face it, \Antioch\ is mainly about calculating
efficiently, with elegance and a sexy attitude, rates,
be them with respect to mass or molar concentration. 

The first thing to clear out is the template choice. 
\Antioch\ is very suple about this, 
The objects we will need are
a \prog{ReactionSet} and a \prog{KineticsEvaluator}. We will
use as \prog{double} a \prog{double} and as vector the standard 
\prog{std::vector< >} 

\begin{verbatim}
// C++
#include <string>
#include <vector>

// Antioch
#include "antioch/vector_utils.h"

#include "antioch/antioch_asserts.h"
#include "antioch/chemical_species.h"
#include "antioch/chemical_mixture.h"
#include "antioch/reaction_set.h"
#include "antioch/read_reaction_set_data_xml.h"
#include "antioch/cea_thermo.h"
#include "antioch/kinetics_evaluator.h"

int compute_rates(const std::string& input_name,
  std::vector<double> & omega_dot,
  std::vector<double> & domega_dot_dT,
  std::vector<std::vector<double> > & domega_dot_drho_s)
{
  std::vector<std::string> species_str_list;
  const unsigned int n_species = 5;
  species_str_list.reserve(n_species);
  species_str_list.push_back( "N2" );
  species_str_list.push_back( "O2" );
  species_str_list.push_back( "N" );
  species_str_list.push_back( "O" );
  species_str_list.push_back( "NO" );

  Antioch::ChemicalMixture<double> chem_mixture( species_str_list );
  Antioch::ReactionSet<double> reaction_set( chem_mixture );
  Antioch::CEAThermodynamics<double> thermo( chem_mixture );

  Antioch::read_reaction_set_data_xml<double>( input_name, true, 
                                               reaction_set );

  const double T = 1500.0; // K
  const double P = 1.0e5; // Pa

  // Mass fractions
  std::vector<double> Y(n_species,0.2);

  const double R_mix = chem_mixture.R(Y); //get R_tot in J.kg-1.K-1

  const double rho = P/(R_mix*T); // kg.m-3

  std::vector<double> molar_densities(n_species,0.0);
  chem_mixture.molar_densities(rho,Y,molar_densities);

  std::vector<double> h_RT_minus_s_R(n_species);
  std::vector<double> dh_RT_minus_s_R_dT(n_species);

  typedef typename Antioch::CEAThermodynamics<double>::template 
                Cache<double> Cache;
  thermo.h_RT_minus_s_R(Cache(T),h_RT_minus_s_R);
  thermo.dh_RT_minus_s_R_dT(Cache(T),dh_RT_minus_s_R_dT);

  Antioch::KineticsEvaluator<double> kinetics( reaction_set, 0 );

  omega_dot.resize(n_species,0.L);
  domega_dot_dT(n_species,0.L);
  domega_dot_drho_s(n_species);
  for( unsigned int s = 0; s < n_species; s++ )
    {
      domega_dot_drho_s[s].resize(n_species);
    }
  
  kinetics.compute_mass_sources( T, molar_densities, 
                                 h_RT_minus_s_R, omega_dot);

  kinetics.compute_mass_sources_and_derivs( T, molar_densities, 
                                            h_RT_minus_s_R, dh_RT_minus_s_R_dT,
                                            omega_dot, domega_dot_dT, 
                                            domega_dot_drho_s );
  return 0;
}
\end{verbatim}
